<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Rental - Step 6: Review | Rental Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/base.css">
    <script src="js/feedback-modal.js"></script>
    <script src="js/listing-storage.js"></script>
    <script>
        // Get listing ID from URL parameters
        function getListingIdFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('id');
        }

        // Load and display saved data from steps 1-5 when page loads
        function loadReviewData() {
            // Check if we're editing an existing listing
            const listingId = getListingIdFromUrl();
            let savedData = null;

            if (listingId) {
                // Load the specific listing from published listings
                savedData = ListingStorage.getListingById(listingId);
                if (savedData) {
                    // Set it as the current listing so the form can display it
                    ListingStorage.saveCurrentListing(savedData);
                    // Store the listing ID for later use when saving
                    sessionStorage.setItem('editingListingId', listingId);
                } else {
                    console.log('Listing not found with ID:', listingId);
                    // Fall back to current listing or defaults
                    savedData = ListingStorage.getCurrentListing();
                }
            } else {
                // Normal flow: get current listing from steps 1-5
                savedData = ListingStorage.getCurrentListing();
            }

            if (!savedData) {
                console.log('No saved data found, using defaults');
                return;
            }

            // Update Basics section
            if (savedData.unit) {
                const basicsSection = document.querySelector('h2.text-lg.font-medium')?.closest('.border');
                if (basicsSection) {
                    // Update property address
                    const addressDisplay = document.getElementById('propertyAddressDisplay');
                    if (addressDisplay) {
                        if (savedData.address && savedData.address.trim() !== '') {
                            addressDisplay.textContent = savedData.address;
                        } else {
                            addressDisplay.textContent = '-';
                        }
                    }
                    
                    // Update unit name badge
                    const unitBadge = basicsSection.querySelector('span.bg-emerald-50');
                    if (unitBadge) {
                        if (savedData.unit.name && savedData.unit.name.trim() !== '') {
                            unitBadge.textContent = savedData.unit.name;
                        } else {
                            unitBadge.textContent = '';
                        }
                    }

                    // Update unit details
                    const detailsContainer = basicsSection.querySelector('.flex.flex-wrap');
                    if (detailsContainer && savedData.unit) {
                        const unit = savedData.unit;
                        detailsContainer.innerHTML = `
                            ${unit.beds ? `<span><strong>${unit.beds}</strong> Beds</span>` : ''}
                            ${unit.baths ? `<span><strong>${unit.baths}</strong> Baths</span>` : ''}
                            ${unit.size ? `<span><strong>${parseInt(unit.size).toLocaleString()}</strong> Sq Ft.</span>` : ''}
                            ${unit.monthlyRent ? `<span><strong>$${parseInt(unit.monthlyRent).toLocaleString()}</strong> Monthly Rent</span>` : ''}
                            ${unit.deposit ? `<span><strong>$${parseInt(unit.deposit).toLocaleString()}</strong> Deposit</span>` : ''}
                            ${unit.leaseLength ? `<span><strong>${unit.leaseLength}</strong> Month Lease</span>` : ''}
                        `;
                    }

                    // Update year built if available
                    const availabilityText = basicsSection.querySelector('p.text-sm.text-zinc-500');
                    if (availabilityText && savedData.building?.yearBuilt) {
                        availabilityText.textContent = `Year Built: ${savedData.building.yearBuilt}`;
                    } else if (availabilityText) {
                        availabilityText.textContent = '';
                    }
                }
            }

            // Update Amenities section - combine all amenities from Step 2
            const amenitiesSection = Array.from(document.querySelectorAll('h2.text-lg.font-medium')).find(h => 
                h.textContent === 'Amenities' && !h.nextElementSibling?.textContent?.includes('Property Amenities')
            )?.closest('.border');
            
            if (amenitiesSection) {
                const amenitiesList = document.getElementById('amenitiesList');
                const parkingType = document.getElementById('parkingType');
                const parkingCost = document.getElementById('parkingCost');
                
                if (amenitiesList) {
                    // Collect all amenities from Step 2 (excluding parking, which is shown separately)
                    const allAmenities = [];
                    
                    // Parking type values to exclude from amenities list
                    const parkingTypes = ['Garage', 'Covered', 'Open Lot', 'Street', 'Valet', 'Select'];
                    
                    // Property amenities (general amenities)
                    if (savedData.propertyAmenities && Array.isArray(savedData.propertyAmenities) && savedData.propertyAmenities.length > 0) {
                        // Filter out any parking types that might have been incorrectly included
                        const filteredPropertyAmenities = savedData.propertyAmenities.filter(a => 
                            !parkingTypes.includes(a.trim())
                        );
                        allAmenities.push(...filteredPropertyAmenities);
                    }
                    
                    // Laundry amenities
                    if (savedData.laundry && Array.isArray(savedData.laundry) && savedData.laundry.length > 0) {
                        allAmenities.push(...savedData.laundry);
                    }
                    
                    // Utilities
                    if (savedData.utilities && Array.isArray(savedData.utilities) && savedData.utilities.length > 0) {
                        allAmenities.push(...savedData.utilities);
                    }
                    
                    // Pets (only show Cats/Dogs, exclude parking type)
                    if (savedData.pets) {
                        if (savedData.pets.allowed || savedData.pets.cats || savedData.pets.dogs) {
                            const petTypes = [];
                            // Check for pet checkboxes (Cats/Dogs only)
                            if (savedData.pets.cats) petTypes.push('Cats');
                            if (savedData.pets.dogs) petTypes.push('Dogs');
                            // Don't include pets.type as it might be confused with parking type
                            if (petTypes.length > 0) {
                                allAmenities.push(`Pets Allowed (${petTypes.join(', ')})`);
                            } else {
                                allAmenities.push('Pets Allowed');
                            }
                        }
                    }
                    
                    // Fallback to unit amenities if no Step 2 amenities found
                    if (allAmenities.length === 0 && savedData.unit?.amenities && Array.isArray(savedData.unit.amenities) && savedData.unit.amenities.length > 0) {
                        allAmenities.push(...savedData.unit.amenities);
                    }
                    
                    // Display amenities or show "-" if none
                    if (allAmenities.length > 0) {
                        amenitiesList.textContent = allAmenities.join(', ');
                    } else {
                        amenitiesList.textContent = '-';
                    }
                }
                
                // Display parking type separately
                if (parkingType) {
                    if (savedData.parking && savedData.parking.type && savedData.parking.type !== 'Select' && savedData.parking.type !== '') {
                        parkingType.textContent = savedData.parking.type;
                    } else {
                        parkingType.textContent = '-';
                    }
                }
                
                // Display parking cost separately
                if (parkingCost) {
                    if (savedData.parking && savedData.parking.fee && savedData.parking.fee !== '' && savedData.parking.fee !== '0') {
                        parkingCost.textContent = `$${savedData.parking.fee}/mo`;
                    } else {
                        parkingCost.textContent = '-';
                    }
                }
            }
            
            // Add unit description if available
            if (savedData.unit?.description) {
                const amenitiesSection = document.querySelectorAll('h2.text-lg.font-medium');
                const unitAmenitiesSection = Array.from(amenitiesSection).find(h => 
                    h.textContent === 'Amenities' && !h.nextElementSibling?.textContent?.includes('Property Amenities')
                )?.closest('.border');
                if (unitAmenitiesSection && savedData.unit.description) {
                    // Add description below amenities
                    const existingContent = unitAmenitiesSection.innerHTML;
                    const descriptionHtml = `
                        <div class="mt-4 pt-4 border-t border-zinc-200">
                            <p class="text-sm font-medium text-zinc-700 mb-2">Unit Description</p>
                            <p class="text-sm text-zinc-600 leading-relaxed">${savedData.unit.description}</p>
                        </div>
                    `;
                    unitAmenitiesSection.innerHTML = existingContent + descriptionHtml;
                }
            }

            // Update Property Amenities section (if exists)
            if (savedData.propertyAmenities || savedData.utilities || savedData.parking || savedData.laundry || savedData.pets) {
                // This would need to be added to the review page HTML structure
            }

            // Update Media section
            const mediaSection = Array.from(document.querySelectorAll('h2.text-lg.font-medium')).find(h => 
                h.textContent === 'Media'
            )?.closest('.border');
            
            if (mediaSection) {
                const photosHeading = document.getElementById('photosHeading');
                const photosContainer = document.getElementById('photosContainer');
                const defaultPhoto = document.getElementById('defaultPhoto');
                
                // Get photos count
                const photosCount = savedData.unit?.photos?.length || savedData.media?.photos || 0;
                
                if (photosHeading) {
                    photosHeading.textContent = `Photos (${photosCount})`;
                }
                
                // Display uploaded photos if available
                if (savedData.unit?.photos && savedData.unit.photos.length > 0 && photosContainer) {
                    // Hide default photo
                    if (defaultPhoto) {
                        defaultPhoto.style.display = 'none';
                    }
                    
                    // Show first photo (main photo)
                    const firstPhoto = savedData.unit.photos[0];
                    if (firstPhoto && firstPhoto.dataUrl) {
                        photosContainer.innerHTML = `<img src="${firstPhoto.dataUrl}" alt="Property photo" class="w-full h-full object-cover">`;
                    }
                } else if (photosContainer && defaultPhoto) {
                    // Show default photo if no photos uploaded
                    defaultPhoto.style.display = 'block';
                }
            }

            // Update Description section
            if (savedData.description) {
                const descriptionSection = Array.from(document.querySelectorAll('h2.text-lg.font-medium')).find(h => 
                    h.textContent === 'Description'
                )?.closest('.border');
                if (descriptionSection) {
                    const descText = descriptionSection.querySelector('p.text-sm.text-zinc-600');
                    if (descText && savedData.description.text) {
                        descText.textContent = savedData.description.text;
                    }
                }
            }

            // Update Contact Info section
            if (savedData.contact) {
                const contactSection = Array.from(document.querySelectorAll('h2.text-lg.font-medium')).find(h => 
                    h.textContent === 'Contact Info'
                )?.closest('.border');
                if (contactSection) {
                    const contactInfo = contactSection.querySelectorAll('p.text-zinc-900.font-medium');
                    if (contactInfo.length >= 4 && savedData.contact) {
                        const name = `${savedData.contact.firstName || ''} ${savedData.contact.lastName || ''}`.trim();
                        if (name) contactInfo[0].textContent = name;
                        if (savedData.contact.role) contactInfo[1].textContent = savedData.contact.role.charAt(0).toUpperCase() + savedData.contact.role.slice(1);
                        if (savedData.contact.email) contactInfo[2].textContent = savedData.contact.email;
                        if (savedData.contact.phone) contactInfo[3].textContent = savedData.contact.phone;
                    }
                }
            }

            // Update Agreement section checkbox
            if (savedData.applications) {
                const applicationsSection = Array.from(document.querySelectorAll('h2.text-lg.font-medium')).find(h => 
                    h.textContent === 'Agreement'
                )?.closest('.border');
                if (applicationsSection) {
                    const agreementCheckbox = document.getElementById('agreementCheckbox');
                    if (agreementCheckbox) {
                        // Only override default checked state if saved data explicitly sets it to false
                        if (savedData.applications.agreementAccepted === false) {
                            agreementCheckbox.checked = false;
                        }
                        // Otherwise keep the default checked state
                        // Validate after setting checkbox state
                        validateAgreement();
                    }
                }
            }
        }

        // Load data when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Check if we're editing an existing listing first
            const listingId = getListingIdFromUrl();
            
            // Update button text and page title if editing
            if (listingId) {
                const buttonText = document.getElementById('publishButtonText');
                if (buttonText) {
                    buttonText.textContent = 'Update Rental';
                }
                // Update page title
                const pageTitle = document.querySelector('h1');
                if (pageTitle) {
                    pageTitle.textContent = 'Edit Rental';
                }
            }
            
            // Load review data (this will load the listing if editing)
            loadReviewData();
            
            // Clear the creatingListing flag after page loads (it was only needed during navigation)
            setTimeout(() => {
                sessionStorage.removeItem('creatingListing');
            }, 100);
        });
    </script>
</head>
<body class="bg-white text-zinc-900 antialiased selection:bg-emerald-100 selection:text-emerald-900 min-h-screen">

    <!-- Top Header -->
    <header class="fixed top-0 right-0 left-0 md:left-64 h-14 bg-white border-b border-zinc-100 z-40">
        <div class="h-full flex items-center justify-between px-6">
            <div class="md:hidden">
                <button class="p-2 hover:bg-zinc-50 rounded-md transition-colors">
                    <iconify-icon icon="lucide:menu" width="20" class="text-zinc-600"></iconify-icon>
                </button>
            </div>
            <div class="flex items-center gap-4 ml-auto">
                <div class="flex items-center gap-2 px-3 py-1.5 hover:bg-zinc-50 rounded-md cursor-pointer transition-colors">
                    <div class="w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-700 text-xs font-medium">R</div>
                    <span class="text-sm font-medium text-zinc-900 hidden sm:block">Rita</span>
                    <iconify-icon icon="lucide:chevron-down" width="16" class="text-zinc-400"></iconify-icon>
                </div>
            </div>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="fixed top-0 left-0 bottom-0 w-64 bg-white border-r border-zinc-100 z-50 overflow-y-auto hidden md:block">
        <div class="p-6 border-b border-zinc-100">
            <a href="index.html" class="flex items-center gap-2">
                <div class="w-6 h-6 bg-emerald-600 rounded-md flex items-center justify-center text-white">
                    <iconify-icon icon="lucide:building-2" width="16" stroke-width="1.5"></iconify-icon>
                </div>
                <span class="text-sm font-semibold tracking-tight">RENTAL MANAGER</span>
            </a>
        </div>
        <nav class="p-4 space-y-1">
            <a href="dashboard.html" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors">
                <iconify-icon icon="lucide:layout-dashboard" width="18" stroke-width="1.5"></iconify-icon>
                <span class="text-sm font-medium">Dashboard</span>
            </a>
            <a href="payments.html" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors">
                <iconify-icon icon="lucide:wallet" width="18" stroke-width="1.5"></iconify-icon>
                <span class="text-sm font-medium">Payments</span>
            </a>
            <a href="leases.html" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors">
                <iconify-icon icon="lucide:file-text" width="18" stroke-width="1.5"></iconify-icon>
                <span class="text-sm font-medium">Residents & Leases</span>
            </a>
            <a href="maintenance.html" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors">
                <iconify-icon icon="lucide:wrench" width="18" stroke-width="1.5"></iconify-icon>
                <span class="text-sm font-medium">Maintenance</span>
            </a>
            <div class="pt-4 mt-4 border-t border-zinc-100 space-y-1">
                <a href="messages.html" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors">
                    <iconify-icon icon="lucide:mail" width="18" stroke-width="1.5"></iconify-icon>
                    <span class="text-sm font-medium">Messages</span>
                </a>
                <a href="help.html" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors">
                    <iconify-icon icon="lucide:help-circle" width="18" stroke-width="1.5"></iconify-icon>
                    <span class="text-sm font-medium">Help</span>
                </a>
                <div class="account-dropdown">
                    <button class="w-full flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors" onclick="toggleAccountDropdown()">
                        <iconify-icon icon="lucide:settings" width="18" stroke-width="1.5"></iconify-icon>
                        <span class="text-sm font-medium">Account</span>
                        <iconify-icon icon="lucide:chevron-down" width="14" class="text-zinc-400 ml-auto account-chevron transition-transform"></iconify-icon>
                    </button>
                    <div class="account-submenu hidden mt-1 ml-4 space-y-1">
                        <a href="my-account.html" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors text-sm">
                            My Account
                        </a>
                        <a href="banks-cards.html" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors text-sm">
                            Banks & Cards
                        </a>
                        <a href="billing-history.html" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors text-sm">
                            Billing History
                        </a>
                    </div>
                </div>
                <a href="#" onclick="openFeedbackModal(); return false;" class="flex items-center gap-3 px-3 py-2 text-zinc-600 hover:bg-zinc-50 rounded-md transition-colors">
                    <iconify-icon icon="lucide:message-square" width="18" stroke-width="1.5"></iconify-icon>
                    <span class="text-sm font-medium">Provide Feedback</span>
                </a>
            </div>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="md:ml-64 pt-14 min-h-screen bg-zinc-50">
        <div class="p-6">
            <div class="max-w-5xl mx-auto">
                <!-- Main Form Card -->
                <div class="bg-white rounded-lg border border-zinc-200 shadow-sm p-8">
                    <div class="mb-8">
                        <h1 class="text-2xl font-medium tracking-tight text-zinc-900 mb-2">Create Rental</h1>
                        <div class="flex items-center gap-2 text-sm text-zinc-500">
                            <span class="font-medium">Step 6 of 6: Review</span>
                            <span>â€¢</span>
                            <span>Review your information before you publish.</span>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                        <!-- Left Sidebar - Steps -->
                        <div class="lg:col-span-1">
                            <div class="space-y-4">
                                <div class="flex items-center gap-3">
                                    <iconify-icon icon="lucide:check-circle" width="20" class="text-emerald-600"></iconify-icon>
                                    <span class="text-sm font-medium text-zinc-900">Basics</span>
                                </div>
                                <div class="flex items-center gap-3">
                                    <iconify-icon icon="lucide:check-circle" width="20" class="text-emerald-600"></iconify-icon>
                                    <span class="text-sm font-medium text-zinc-900">Amenities</span>
                                </div>
                                <div class="flex items-center gap-3">
                                    <iconify-icon icon="lucide:check-circle" width="20" class="text-emerald-600"></iconify-icon>
                                    <span class="text-sm font-medium text-zinc-900">Media</span>
                                </div>
                                <div class="flex items-center gap-3">
                                    <iconify-icon icon="lucide:check-circle" width="20" class="text-emerald-600"></iconify-icon>
                                    <span class="text-sm font-medium text-zinc-900">Description</span>
                                </div>
                                <div class="flex items-center gap-3">
                                    <iconify-icon icon="lucide:check-circle" width="20" class="text-emerald-600"></iconify-icon>
                                    <span class="text-sm font-medium text-zinc-900">Contact</span>
                                </div>
                                <div class="flex items-center gap-3">
                                    <div class="w-5 h-5 rounded-full bg-emerald-600 flex items-center justify-center">
                                        <span class="flex h-2 w-2 rounded-full bg-white"></span>
                                    </div>
                                    <span class="text-sm font-medium text-zinc-900">Review</span>
                                </div>
                            </div>
                        </div>

                        <!-- Right Side - Review Sections -->
                        <div class="lg:col-span-3 space-y-6">
                            <!-- Basics Section -->
                            <div class="border border-zinc-200 rounded-lg p-6">
                                <div class="flex items-start justify-between mb-4">
                                    <h2 class="text-lg font-medium text-zinc-900">Basics</h2>
                                    <a href="create-listing.html" class="text-sm text-emerald-600 hover:text-emerald-700 font-medium">Edit Unit</a>
                                </div>
                                <p class="text-sm text-zinc-700 mb-3" id="propertyAddressDisplay">-</p>
                                <div class="mb-3">
                                    <span class="px-2 py-1 rounded bg-emerald-50 text-emerald-700 text-xs font-medium border border-emerald-100">14</span>
                                </div>
                                <div class="flex flex-wrap gap-4 text-sm text-zinc-700 mb-2">
                                    <span><strong>2</strong> Beds</span>
                                    <span><strong>1.5</strong> Baths</span>
                                    <span><strong>1,000</strong> Sq Ft.</span>
                                    <span><strong>$1,000</strong> Monthly Rent</span>
                                    <span><strong>$1,000</strong> Deposit</span>
                                    <span><strong>12</strong> Month Lease</span>
                                </div>
                            </div>

                            <!-- Media Section -->
                            <div class="border border-zinc-200 rounded-lg p-6">
                                <div class="flex items-start justify-between mb-4">
                                    <h2 class="text-lg font-medium text-zinc-900">Media</h2>
                                    <a href="create-listing-step3.html" class="text-sm text-emerald-600 hover:text-emerald-700 font-medium">Edit Section</a>
                                </div>
                                <div class="space-y-4">
                                    <div>
                                        <h3 class="text-sm font-medium text-zinc-700 mb-2" id="photosHeading">Photos (0)</h3>
                                        <div id="photosContainer" class="w-full h-48 bg-zinc-100 rounded-lg overflow-hidden">
                                            <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&h=600&fit=crop" alt="Property photo" class="w-full h-full object-cover" id="defaultPhoto">
                                        </div>
                                    </div>
                                    <div>
                                        <h3 class="text-sm font-medium text-zinc-700 mb-1">Virtual Tours (0)</h3>
                                        <p class="text-sm text-zinc-500">-</p>
                                    </div>
                                    <div>
                                        <h3 class="text-sm font-medium text-zinc-700 mb-1">Videos (0)</h3>
                                        <p class="text-sm text-zinc-500">-</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Amenities (Unit Specific) Section -->
                            <div class="border border-zinc-200 rounded-lg p-6">
                                <div class="flex items-start justify-between mb-4">
                                    <h2 class="text-lg font-medium text-zinc-900">Amenities</h2>
                                    <a href="create-listing-step2.html" class="text-sm text-emerald-600 hover:text-emerald-700 font-medium">Edit Section</a>
                                </div>
                                <div class="space-y-3">
                                    <div>
                                        <p class="text-sm font-medium text-zinc-700 mb-1">Amenities</p>
                                        <p class="text-sm text-zinc-500" id="amenitiesList">Mud Room, Recreation Room, Vinyl Flooring</p>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-zinc-700 mb-1">Parking Type</p>
                                        <p class="text-sm text-zinc-500" id="parkingType">-</p>
                                    </div>
                                    <div>
                                        <p class="text-sm font-medium text-zinc-700 mb-1">Parking Cost</p>
                                        <p class="text-sm text-zinc-500" id="parkingCost">-</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Description Section -->
                            <div class="border border-zinc-200 rounded-lg p-6">
                                <div class="flex items-start justify-between mb-4">
                                    <h2 class="text-lg font-medium text-zinc-900">Description</h2>
                                    <a href="create-listing-step4.html" class="text-sm text-emerald-600 hover:text-emerald-700 font-medium">Edit Section</a>
                                </div>
                                <div class="space-y-3">
                                    <div>
                                        <p class="text-sm font-medium text-zinc-700 mb-1">Description</p>
                                        <p class="text-sm text-zinc-600 leading-relaxed">So many great things about this property and so spacious, bright, open concept, modern, minimalistic.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Contact Info Section -->
                            <div class="border border-zinc-200 rounded-lg p-6">
                                <div class="flex items-start justify-between mb-4">
                                    <h2 class="text-lg font-medium text-zinc-900">Contact Info</h2>
                                    <a href="create-listing-step5.html" class="text-sm text-emerald-600 hover:text-emerald-700 font-medium">Edit Section</a>
                                </div>
                                <div class="space-y-3 text-sm">
                                    <div>
                                        <p class="text-zinc-500 mb-1">Name</p>
                                        <p class="text-zinc-900 font-medium">Rita Noriega</p>
                                    </div>
                                    <div>
                                        <p class="text-zinc-500 mb-1">Role</p>
                                        <p class="text-zinc-900 font-medium">Owner</p>
                                    </div>
                                    <div>
                                        <p class="text-zinc-500 mb-1">Email address</p>
                                        <p class="text-zinc-900 font-medium">zalocn@gmail.com</p>
                                    </div>
                                    <div>
                                        <p class="text-zinc-500 mb-1">Phone number</p>
                                        <p class="text-zinc-900 font-medium">(828) 938-3892</p>
                                    </div>
                                    <div class="mt-4 p-3 bg-zinc-50 rounded-md border border-zinc-200">
                                        <p class="text-xs text-zinc-600">
                                            Your listing will display a forwarding phone number to hide your real phone number. 
                                            <a href="#" class="text-blue-600 hover:text-blue-700 underline">Learn more</a>
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <!-- Agreement Section -->
                            <div class="border border-zinc-200 rounded-lg p-6">
                                <div class="flex items-start justify-between mb-4">
                                    <h2 class="text-lg font-medium text-zinc-900">Agreement</h2>
                                </div>
                                <div class="space-y-6">
                                    <div class="border-t border-zinc-200 pt-6">
                                        <label class="flex items-start gap-3 cursor-pointer">
                                            <input type="checkbox" id="agreementCheckbox" class="mt-0.5 w-4 h-4 rounded border-zinc-300 text-emerald-600 focus:ring-emerald-500" checked>
                                            <span class="text-sm text-zinc-700">
                                                By checking this box I agree as follows: I agree that I will provide accurate and 
                                                <a href="#" class="text-blue-600 hover:text-blue-700 underline">non discriminatory</a> 
                                                information and I will comply with the Apartments.com 
                                                <a href="#" class="text-blue-600 hover:text-blue-700 underline">Terms and Conditions</a> 
                                                and the 
                                                <a href="#" class="text-blue-600 hover:text-blue-700 underline">Add a Property Terms of Service</a>.
                                            </span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Legal Disclaimer -->
                    <div class="mt-8 pt-6 border-t border-zinc-200">
                        <div class="text-xs text-zinc-500 leading-relaxed">
                            <p>
                                By clicking Add Your Property above, I agree that I will provide accurate and <a href="#" class="text-blue-600 hover:text-blue-700 underline">non discriminatory information</a> and I will comply with the Apartments.com <a href="#" class="text-blue-600 hover:text-blue-700 underline">Terms and Conditions</a> and the <a href="#" class="text-blue-600 hover:text-blue-700 underline">Add a Property Terms of Service</a>. This site is protected by reCAPTCHA and the <a href="#" class="text-blue-600 hover:text-blue-700 underline">Google Privacy Policy</a> and <a href="#" class="text-blue-600 hover:text-blue-700 underline">Terms of Service</a> apply.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="mt-6">
                    <div class="flex justify-between">
                        <a href="create-listing-step5.html" onclick="sessionStorage.setItem('creatingListing', 'true')" class="px-6 py-2.5 rounded-md border border-emerald-600 text-emerald-600 font-medium text-sm hover:bg-emerald-50 transition-colors flex items-center gap-2">
                            <iconify-icon icon="lucide:arrow-left" width="16"></iconify-icon>
                            Previous
                        </a>
                        <button id="createRentalButton" onclick="publishListing()" class="px-6 py-2.5 rounded-md bg-emerald-600 text-white font-medium text-sm hover:bg-emerald-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-emerald-600">
                            <span id="publishButtonText">Create Rental</span>
                            <iconify-icon icon="lucide:check" width="16"></iconify-icon>
                        </button>
                    </div>
                    <div id="agreementWarning" class="hidden mt-3 text-sm text-red-600 flex items-center gap-2 justify-end">
                        <iconify-icon icon="lucide:alert-circle" width="16"></iconify-icon>
                        <span>You must agree to the terms and conditions before creating a rental.</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Floating Help Button -->
    <button class="fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-colors flex items-center justify-center z-30">
        <iconify-icon icon="lucide:help-circle" width="24"></iconify-icon>
    </button>

    <script>
        function toggleAccountDropdown() {
            const submenu = document.querySelector('.account-submenu');
            const chevron = document.querySelector('.account-chevron');
            submenu.classList.toggle('hidden');
            chevron.classList.toggle('rotate-180');
        }

        // Enable Create Rental button on page load
        document.addEventListener('DOMContentLoaded', function() {
            const button = document.getElementById('createRentalButton');
            if (button) {
                button.disabled = false;
            }
        });

        function publishListing() {
            try {
                // First, try to get saved data from localStorage (from steps 1-5)
                let listingData = ListingStorage.getCurrentListing() || {};
            
            // Always extract current values from review page to ensure we have the latest data
            // This ensures that any updates made on the review page are captured
            const addressHeader = listingData.address || '';
            
            // Get all section headers for finding specific sections
            const amenitiesSections = Array.from(document.querySelectorAll('h2.text-lg.font-medium'));
            
            // Extract unit details from Basics section
            const basicsSection = amenitiesSections.find(h => h.textContent === 'Basics')?.closest('.border') || document.querySelector('h2.text-lg.font-medium')?.closest('.border');
            const unitNameSpan = basicsSection?.querySelector('span.bg-emerald-50');
            let unitName = unitNameSpan?.textContent?.trim() || listingData.unit?.name || '14';
            // Remove "FEATURED " prefix if present
            if (unitName.toUpperCase().startsWith('FEATURED ')) {
                unitName = unitName.substring(9).trim();
            }
            
            const unitDetails = Array.from(basicsSection?.querySelectorAll('span.text-sm.text-zinc-700 strong') || []);
            const beds = unitDetails[0]?.textContent?.trim() || listingData.unit?.beds || '2';
            const baths = unitDetails[1]?.textContent?.trim() || listingData.unit?.baths || '1.5';
            const size = unitDetails[2]?.textContent?.replace(/,/g, '').trim() || listingData.unit?.size || '1000';
            const monthlyRent = unitDetails[3]?.textContent?.replace(/[^\d]/g, '').trim() || listingData.unit?.monthlyRent || '1000';
            const deposit = unitDetails[4]?.textContent?.replace(/[^\d]/g, '').trim() || listingData.unit?.deposit || '1000';
            const leaseLength = unitDetails[5]?.textContent?.trim() || listingData.unit?.leaseLength || '12';
            
            // Extract year built from availability text
            const availabilityText = basicsSection?.querySelector('p.text-sm.text-zinc-500')?.textContent?.trim() || '';
            let yearBuilt = listingData.building?.yearBuilt || '';
            
            if (availabilityText && availabilityText.includes('Year Built:')) {
                const yearBuiltMatch = availabilityText.match(/Year Built:\s*(\d+)/);
                if (yearBuiltMatch) {
                    yearBuilt = yearBuiltMatch[1].trim();
                }
            }
            
            // Preserve Step 2 amenities (propertyAmenities, laundry, utilities, parking, pets)
            // Don't extract from review page text as it's already formatted for display
            const propertyAmenities = listingData.propertyAmenities || [];
            const laundry = listingData.laundry || [];
            const utilities = listingData.utilities || [];
            const parking = listingData.parking || {};
            const pets = listingData.pets || {};
            
            // Extract media info
            const mediaSection = amenitiesSections.find(h => h.textContent === 'Media')?.closest('.border');
            const photosCount = mediaSection?.querySelector('h3')?.textContent?.match(/\((\d+)\)/)?.[1] || (listingData.media?.photos?.toString() || '1');
            const virtualToursCount = Array.from(mediaSection?.querySelectorAll('h3') || [])[1]?.textContent?.match(/\((\d+)\)/)?.[1] || (listingData.media?.virtualTours?.toString() || '0');
            const videosCount = Array.from(mediaSection?.querySelectorAll('h3') || [])[2]?.textContent?.match(/\((\d+)\)/)?.[1] || (listingData.media?.videos?.toString() || '0');
            
            // Extract description
            const descriptionSection = amenitiesSections.find(h => h.textContent === 'Description')?.closest('.border');
            const descriptionText = descriptionSection?.querySelector('p.text-sm.text-zinc-600')?.textContent?.trim() || listingData.description?.text || '';
            
            // Extract contact info
            const contactSection = amenitiesSections.find(h => h.textContent === 'Contact Info')?.closest('.border');
            const contactInfo = Array.from(contactSection?.querySelectorAll('p.text-zinc-900.font-medium') || []);
            const contactName = contactInfo[0]?.textContent?.trim() || `${listingData.contact?.firstName || 'Rita'} ${listingData.contact?.lastName || 'Noriega'}`;
            const contactRole = contactInfo[1]?.textContent?.trim() || listingData.contact?.role || 'Owner';
            const contactEmail = contactInfo[2]?.textContent?.trim() || listingData.contact?.email || 'zalocn@gmail.com';
            const contactPhone = contactInfo[3]?.textContent?.trim() || listingData.contact?.phone || '';
            const nameParts = contactName.split(' ');
            
            // Extract applications settings
            const agreementCheckbox = document.getElementById('agreementCheckbox');
            const agreementAccepted = agreementCheckbox?.checked || false;
            
            // Build/update listing data object, merging saved data with extracted values
            listingData = {
                ...listingData,
                address: addressHeader,
                unit: {
                    ...listingData.unit,
                    name: unitName,
                    beds: beds,
                    baths: baths,
                    size: size,
                    monthlyRent: monthlyRent,
                    deposit: deposit,
                    leaseLength: leaseLength,
                    amenities: listingData.unit?.amenities || [], // Unit-specific amenities (from Step 1)
                    description: listingData.unit?.description || '',
                    photos: listingData.unit?.photos || [] // Preserve uploaded photos
                },
                building: {
                    ...listingData.building,
                    yearBuilt: yearBuilt
                },
                // Preserve Step 2 amenities
                propertyAmenities: propertyAmenities,
                laundry: laundry,
                utilities: utilities,
                parking: parking,
                pets: pets,
                media: {
                    ...listingData.media,
                    photos: parseInt(photosCount),
                    virtualTours: parseInt(virtualToursCount),
                    videos: parseInt(videosCount)
                },
                description: {
                    ...listingData.description,
                    text: descriptionText
                },
                contact: {
                    ...listingData.contact,
                    firstName: nameParts[0] || listingData.contact?.firstName || 'Rita',
                    lastName: nameParts.slice(1).join(' ') || listingData.contact?.lastName || 'Noriega',
                    role: contactRole.toLowerCase(),
                    email: contactEmail,
                    phone: contactPhone
                },
                applications: {
                    enabled: listingData.applications?.enabled || false,
                    agreementAccepted: agreementAccepted
                }
            };

            // Check if we're updating an existing listing or creating a new one
            const editingListingId = sessionStorage.getItem('editingListingId');
            const existingListingId = listingData.id;
            
            let savedListing;
            if (editingListingId || existingListingId) {
                // Update existing listing (either from sessionStorage or from listingData.id)
                const listingIdToUpdate = editingListingId || existingListingId;
                savedListing = ListingStorage.updateListing(listingIdToUpdate, listingData);
                if (savedListing) {
                    console.log('Rental updated successfully!', savedListing);
                } else {
                    // If update failed (listing not found), create new one
                    console.log('Listing not found for update, creating new listing');
                    if (!listingData.address) {
                        listingData.address = listingData.address || '';
                    }
                    if (!listingData.publishedAt) {
                        listingData.publishedAt = new Date().toISOString();
                    }
                    if (!listingData.status) {
                        listingData.status = 'active';
                    }
                    // Remove the ID so a new one is generated
                    delete listingData.id;
                    savedListing = ListingStorage.saveListing(listingData);
                    console.log('Rental created successfully!', savedListing);
                }
                // Clear the editing flag
                sessionStorage.removeItem('editingListingId');
            } else {
                // Create new listing
                // Ensure required fields are set
                if (!listingData.address) {
                    listingData.address = listingData.address || '';
                }
                if (!listingData.publishedAt) {
                    listingData.publishedAt = new Date().toISOString();
                }
                if (!listingData.status) {
                    listingData.status = 'active';
                }
                // Make sure we don't have an ID for new listings
                delete listingData.id;

                // Save to localStorage using ListingStorage utility for consistency
                // ListingStorage.saveListing() will automatically add id, publishedAt, and status
                savedListing = ListingStorage.saveListing(listingData);
                console.log('Rental created successfully!', savedListing);
            }
            
            // Clear any temporary listing data
            ListingStorage.clearCurrentListing();
            
            // Clear the creatingListing flag since we successfully completed the flow
            sessionStorage.removeItem('creatingListing');
            
                // Redirect to properties page to see the new/updated rental
                // The properties page will automatically load and display the rental
                window.location.href = 'dashboard.html';
            } catch (error) {
                console.error('Error creating rental:', error);
                alert('There was an error creating the rental. Please check the console for details.');
            }
        }

        // Clear form data when navigating away (unless going to previous step or completing)
        window.addEventListener('beforeunload', function(e) {
            // Only clear if not navigating within the create listing flow
            const isCreatingListing = sessionStorage.getItem('creatingListing');
            if (!isCreatingListing) {
                // Clear form data and localStorage
                ListingStorage.clearCurrentListing();
            }
        });

        // Clear the creatingListing flag when page loads (in case of refresh or back button)
        window.addEventListener('pageshow', function(e) {
            // If page was loaded from cache (back button), clear the flag
            if (e.persisted) {
                sessionStorage.removeItem('creatingListing');
            }
        });
    </script>

    <!-- Feedback Modal -->
    <div id="feedbackModal" class="hidden fixed inset-0 z-50 overflow-y-auto">
        <!-- Backdrop with blur -->
        <div class="fixed inset-0 bg-black/30 backdrop-blur-sm" onclick="closeFeedbackModal()"></div>
        
        <!-- Modal Content -->
        <div class="flex min-h-full items-center justify-center p-4">
            <div class="relative bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <!-- Close Button -->
                <button onclick="closeFeedbackModal()" class="absolute top-4 right-4 text-zinc-400 hover:text-zinc-600 transition-colors z-10">
                    <iconify-icon icon="lucide:x" width="24"></iconify-icon>
                </button>

                <!-- Modal Header -->
                <div class="p-6 border-b border-zinc-200">
                    <div class="flex items-center justify-center gap-2">
                        <div class="w-8 h-8 bg-emerald-600 rounded flex items-center justify-center">
                            <iconify-icon icon="lucide:building-2" width="20" class="text-white"></iconify-icon>
                        </div>
                        <span class="text-xl font-semibold text-zinc-900">Rental Manager</span>
                        <span class="text-xs text-zinc-500 mt-1">â„¢</span>
                    </div>
                </div>

                <!-- Modal Body -->
                <form onsubmit="submitFeedback(); return false;" class="p-6 space-y-6">
                    <!-- Website Experience Rating -->
                    <div>
                        <h3 class="text-sm font-medium text-zinc-900 mb-3">Please rate your website experience today:</h3>
                        <div class="flex gap-1">
                            <button type="button" onclick="setRating(1)" class="star-rating text-zinc-300 hover:text-yellow-400 transition-colors">
                                <iconify-icon icon="lucide:star" width="24" fill="currentColor"></iconify-icon>
                            </button>
                            <button type="button" onclick="setRating(2)" class="star-rating text-zinc-300 hover:text-yellow-400 transition-colors">
                                <iconify-icon icon="lucide:star" width="24" fill="currentColor"></iconify-icon>
                            </button>
                            <button type="button" onclick="setRating(3)" class="star-rating text-zinc-300 hover:text-yellow-400 transition-colors">
                                <iconify-icon icon="lucide:star" width="24" fill="currentColor"></iconify-icon>
                            </button>
                            <button type="button" onclick="setRating(4)" class="star-rating text-zinc-300 hover:text-yellow-400 transition-colors">
                                <iconify-icon icon="lucide:star" width="24" fill="currentColor"></iconify-icon>
                            </button>
                            <button type="button" onclick="setRating(5)" class="star-rating text-zinc-300 hover:text-yellow-400 transition-colors">
                                <iconify-icon icon="lucide:star" width="24" fill="currentColor"></iconify-icon>
                            </button>
                        </div>
                        <input type="hidden" id="rating" name="rating" value="0">
                    </div>

                    <!-- Open-ended Feedback -->
                    <div>
                        <h3 class="text-sm font-medium text-zinc-900 mb-2">Tell us about your experience. What did you like? What can we do better?</h3>
                        <textarea 
                            name="feedback" 
                            rows="6" 
                            class="w-full px-4 py-3 rounded-md border border-zinc-200 bg-white text-zinc-900 placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent resize-none"
                            placeholder="Share your thoughts..."
                        ></textarea>
                    </div>

                    <!-- Screenshot Upload -->
                    <div>
                        <h3 class="text-sm font-medium text-zinc-900 mb-2">Want to share any reference screenshot(s)? Upload here:</h3>
                        <p class="text-xs text-zinc-500 mb-3">
                            File number limit: 5 | Single file size limit: 100MB | Allowed file types: Word, Excel, PPT, PDF, Image, Video, Audio
                        </p>
                        <div 
                            id="fileDropZone" 
                            class="border-2 border-dashed border-zinc-300 rounded-lg p-8 text-center cursor-pointer hover:border-emerald-500 hover:bg-emerald-50/50 transition-colors"
                        >
                            <iconify-icon icon="lucide:upload" width="32" class="text-zinc-400 mx-auto mb-2"></iconify-icon>
                            <p class="text-sm text-zinc-600">Drop files or click here to upload</p>
                        </div>
                        <input type="file" id="fileInput" multiple class="hidden" accept=".doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.jpg,.jpeg,.png,.gif,.mp4,.mp3,.wav">
                        <div id="fileList" class="mt-3 space-y-2"></div>
                    </div>

                    <!-- Feedback Topic Selection -->
                    <div>
                        <h3 class="text-sm font-medium text-zinc-900 mb-3">Which topic(s) is your feedback about?</h3>
                        <div class="grid grid-cols-2 gap-3">
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" name="topics" value="listing" class="w-4 h-4 text-emerald-600 border-zinc-300 rounded focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Listing</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" name="topics" value="leases" class="w-4 h-4 text-emerald-600 border-zinc-300 rounded focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Leases</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" name="topics" value="payments" class="w-4 h-4 text-emerald-600 border-zinc-300 rounded focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Payments</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" name="topics" value="leads" class="w-4 h-4 text-emerald-600 border-zinc-300 rounded focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Leads</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" name="topics" value="expenses" class="w-4 h-4 text-emerald-600 border-zinc-300 rounded focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Expenses</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" name="topics" value="maintenance" class="w-4 h-4 text-emerald-600 border-zinc-300 rounded focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Maintenance</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" name="topics" value="applications" class="w-4 h-4 text-emerald-600 border-zinc-300 rounded focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Applications</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="checkbox" name="topics" value="other" id="topicOther" class="w-4 h-4 text-emerald-600 border-zinc-300 rounded focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Other</span>
                            </label>
                        </div>
                        <input 
                            type="text" 
                            id="topicOtherText" 
                            placeholder="Please specify" 
                            class="mt-2 w-full px-4 py-2 rounded-md border border-zinc-200 bg-white text-zinc-900 placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent hidden"
                        >
                    </div>

                    <!-- User Role Description -->
                    <div>
                        <h3 class="text-sm font-medium text-zinc-900 mb-3">Which best describes you?</h3>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="role" value="renter" class="w-4 h-4 text-emerald-600 border-zinc-300 focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Renter</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="role" value="rental-manager" class="w-4 h-4 text-emerald-600 border-zinc-300 focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Rental Manager</span>
                            </label>
                            <label class="flex items-center gap-2 cursor-pointer">
                                <input type="radio" name="role" value="other" id="roleOther" class="w-4 h-4 text-emerald-600 border-zinc-300 focus:ring-emerald-500">
                                <span class="text-sm text-zinc-700">Other</span>
                            </label>
                        </div>
                        <input 
                            type="text" 
                            id="roleOtherText" 
                            placeholder="Please specify" 
                            class="mt-2 w-full px-4 py-2 rounded-md border border-zinc-200 bg-white text-zinc-900 placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent hidden"
                        >
                    </div>

                    <!-- Contact Information -->
                    <div>
                        <h3 class="text-sm font-medium text-zinc-900 mb-3">May we contact you for more information about your experience?</h3>
                        <div class="space-y-3">
                            <div>
                                <label class="block text-sm text-zinc-700 mb-1">Name:</label>
                                <input 
                                    type="text" 
                                    name="name" 
                                    class="w-full px-4 py-2 rounded-md border border-zinc-200 bg-white text-zinc-900 placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"
                                    placeholder="Optional"
                                >
                            </div>
                            <div>
                                <label class="block text-sm text-zinc-700 mb-1">Email:</label>
                                <input 
                                    type="email" 
                                    name="email" 
                                    class="w-full px-4 py-2 rounded-md border border-zinc-200 bg-white text-zinc-900 placeholder:text-zinc-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent"
                                    placeholder="Optional"
                                >
                            </div>
                        </div>
                    </div>

                    <!-- Modal Footer -->
                    <div class="pt-6 border-t border-zinc-200 flex items-center justify-between">
                        <p class="text-xs text-zinc-500">Protected by reCAPTCHA: Privacy & Terms</p>
                        <div class="flex items-center gap-3">
                            <button 
                                type="button" 
                                onclick="closeFeedbackModal()" 
                                class="px-4 py-2 rounded-md border border-zinc-200 text-zinc-700 hover:bg-zinc-50 transition-colors text-sm font-medium"
                            >
                                Cancel
                            </button>
                            <button 
                                type="submit" 
                                class="px-6 py-2 rounded-md bg-emerald-600 text-white hover:bg-emerald-700 transition-colors text-sm font-medium flex items-center gap-2"
                            >
                                Submit
                                <iconify-icon icon="lucide:arrow-right" width="16"></iconify-icon>
                            </button>
                        </div>
                        <p class="text-xs text-zinc-500">Powered by Qualtrics</p>
                    </div>
                </form>
            </div>
        </div>
    </div>


</body>
</html>
